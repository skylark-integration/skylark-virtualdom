{"version":3,"sources":["virtual-hyperscript/index.js"],"names":["define","__module__0","__module__1","__module__2","__module__3","__module__4","__module__5","__module__6","__module__7","__module__8","__module__9","__module__10","exports","module","isArray","VNode","VText","isVNode","isVText","isWidget","isHook","isVThunk","parseTag","softSetHook","evHook","isChild","x","errorString","obj","JSON","stringify","e","String","__isValidToReturn","Array","attr","__isEmptyObject","tagName","properties","children","tag","props","key","namespace","childNodes","hasOwnProperty","undefined","value","data","expected","received","Vnode","err","Error","type","message","propName","substr","transformProperties","addChild","c","push","foreignObject","parentVnode","i","length"],"mappings":"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","file":"../../virtual-hyperscript/index.js","sourcesContent":["define([\n    'skylark-langx/arrays',\n    '../vnode/vnode',\n    '../vnode/vtext',\n    '../vnode/is-vnode',\n    '../vnode/is-vtext',\n    '../vnode/is-widget',\n    '../vnode/is-vhook',\n    '../vnode/is-thunk',\n    './parse-tag',\n    './hooks/soft-set-hook',\n    './hooks/ev-hook'\n], function (__module__0, __module__1, __module__2, __module__3, __module__4, __module__5, __module__6, __module__7, __module__8, __module__9, __module__10) {\n    'use strict';\n    var exports = {};\n    var module = { exports: {} };\n    var isArray = __module__0.isArray;\n    var VNode = __module__1;\n    var VText = __module__2;\n    var isVNode = __module__3;\n    var isVText = __module__4;\n    var isWidget = __module__5;\n    var isHook = __module__6;\n    var isVThunk = __module__7;\n    var parseTag = __module__8;\n    var softSetHook = __module__9;\n    var evHook = __module__10;\n    module.exports = h;\n    function h(tagName, properties, children) {\n        var childNodes = [];\n        var tag, props, key, namespace;\n        if (!children && isChildren(properties)) {\n            children = properties;\n            props = {};\n        }\n        props = props || properties || {};\n        tag = parseTag(tagName, props);\n        if (props.hasOwnProperty('key')) {\n            key = props.key;\n            props.key = undefined;\n        }\n        if (props.hasOwnProperty('namespace')) {\n            namespace = props.namespace;\n            props.namespace = undefined;\n        }\n        if (tag === 'INPUT' && !namespace && props.hasOwnProperty('value') && props.value !== undefined && !isHook(props.value)) {\n            if (props.value !== null && typeof props.value !== 'string') {\n                throw UnsupportedValueType({\n                    expected: 'String',\n                    received: typeof props.value,\n                    Vnode: {\n                        tagName: tag,\n                        properties: props\n                    }\n                });\n            }\n            props.value = softSetHook(props.value);\n        }\n        transformProperties(props);\n        if (children !== undefined && children !== null) {\n            addChild(children, childNodes, tag, props);\n        }\n        return new VNode(tag, props, childNodes, key, namespace);\n    }\n    function addChild(c, childNodes, tag, props) {\n        if (typeof c === 'string') {\n            childNodes.push(new VText(c));\n        } else if (typeof c === 'number') {\n            childNodes.push(new VText(String(c)));\n        } else if (isChild(c)) {\n            childNodes.push(c);\n        } else if (isArray(c)) {\n            for (var i = 0; i < c.length; i++) {\n                addChild(c[i], childNodes, tag, props);\n            }\n        } else if (c === null || c === undefined) {\n            return;\n        } else {\n            throw UnexpectedVirtualElement({\n                foreignObject: c,\n                parentVnode: {\n                    tagName: tag,\n                    properties: props\n                }\n            });\n        }\n    }\n    function transformProperties(props) {\n        for (var propName in props) {\n            if (props.hasOwnProperty(propName)) {\n                var value = props[propName];\n                if (isHook(value)) {\n                    continue;\n                }\n                if (propName.substr(0, 3) === 'ev-') {\n                    props[propName] = evHook(value);\n                }\n            }\n        }\n    }\n    function isChild(x) {\n        return isVNode(x) || isVText(x) || isWidget(x) || isVThunk(x);\n    }\n    function isChildren(x) {\n        return typeof x === 'string' || isArray(x) || isChild(x);\n    }\n    function UnexpectedVirtualElement(data) {\n        var err = new Error();\n        err.type = 'virtual-hyperscript.unexpected.virtual-element';\n        err.message = 'Unexpected virtual child passed to h().\\n' + 'Expected a VNode / Vthunk / VWidget / string but:\\n' + 'got:\\n' + errorString(data.foreignObject) + '.\\n' + 'The parent vnode is:\\n' + errorString(data.parentVnode);\n        '\\n' + 'Suggested fix: change your `h(..., [ ... ])` callsite.';\n        err.foreignObject = data.foreignObject;\n        err.parentVnode = data.parentVnode;\n        return err;\n    }\n    function UnsupportedValueType(data) {\n        var err = new Error();\n        err.type = 'virtual-hyperscript.unsupported.value-type';\n        err.message = 'Unexpected value type for input passed to h().\\n' + 'Expected a ' + errorString(data.expected) + ' but got:\\n' + errorString(data.received) + '.\\n' + 'The vnode is:\\n' + errorString(data.Vnode);\n        '\\n' + 'Suggested fix: Cast the value passed to h() to a string using String(value).';\n        err.Vnode = data.Vnode;\n        return err;\n    }\n    function errorString(obj) {\n        try {\n            return JSON.stringify(obj, null, '    ');\n        } catch (e) {\n            return String(obj);\n        }\n    }\n    function __isEmptyObject(obj) {\n        var attr;\n        for (attr in obj)\n            return !1;\n        return !0;\n    }\n    function __isValidToReturn(obj) {\n        return typeof obj != 'object' || Array.isArray(obj) || !__isEmptyObject(obj);\n    }\n    if (__isValidToReturn(module.exports))\n        return module.exports;\n    else if (__isValidToReturn(exports))\n        return exports;\n});"]}