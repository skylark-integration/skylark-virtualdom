{"version":3,"sources":["vnode/vnode.js"],"names":["define","__module__0","__module__1","__module__2","__module__3","__module__4","exports","module","version","isVNode","isWidget","isThunk","isVHook","VirtualNode","noProperties","noChildren","tagName","properties","children","key","namespace","this","String","undefined","hooks","count","length","descendants","hasWidgets","hasThunks","descendantHooks","propName","hasOwnProperty","property","unhook","i","child","destroy","__isValidToReturn","obj","Array","isArray","attr","__isEmptyObject","prototype","type"],"mappings":";;;;;;;AAAAA,QACI,YACA,aACA,cACA,aACA,cACD,SAAUC,EAAaC,EAAaC,EAAaC,EAAaC,GAC7D,aACA,IAAIC,KACAC,GAAWD,YACXE,EAAUP,EACVQ,EAAUP,EACVQ,EAAWP,EACXQ,EAAUP,EACVQ,EAAUP,EACdE,EAAOD,QAAUO,EACjB,IAAIC,KACAC,KACJ,SAASF,EAAYG,EAASC,EAAYC,EAAUC,EAAKC,GACrDC,KAAKL,QAAUA,EACfK,KAAKJ,WAAaA,GAAcH,EAChCO,KAAKH,SAAWA,GAAYH,EAC5BM,KAAKF,IAAa,MAAPA,EAAcG,OAAOH,QAAOI,EACvCF,KAAKD,UAAiC,iBAAdA,EAAyBA,EAAY,KAC7D,IAKII,EALAC,EAAQP,GAAYA,EAASQ,QAAU,EACvCC,EAAc,EACdC,GAAa,EACbC,GAAY,EACZC,GAAkB,EAEtB,IAAK,IAAIC,KAAYd,EACjB,GAAIA,EAAWe,eAAeD,GAAW,CACrC,IAAIE,EAAWhB,EAAWc,GACtBnB,EAAQqB,IAAaA,EAASC,SACzBV,IACDA,MAEJA,EAAMO,GAAYE,GAI9B,IAAK,IAAIE,EAAI,EAAGA,EAAIV,EAAOU,IAAK,CAC5B,IAAIC,EAAQlB,EAASiB,GACjB1B,EAAQ2B,IACRT,GAAeS,EAAMX,OAAS,GACzBG,GAAcQ,EAAMR,aACrBA,GAAa,IAEZC,GAAaO,EAAMP,YACpBA,GAAY,GAEXC,IAAoBM,EAAMZ,QAASY,EAAMN,kBAC1CA,GAAkB,KAEdF,GAAclB,EAAS0B,GACF,mBAAlBA,EAAMC,UACbT,GAAa,IAETC,GAAalB,EAAQyB,KAC7BP,GAAY,GAGpBR,KAAKI,MAAQA,EAAQE,EACrBN,KAAKO,WAAaA,EAClBP,KAAKQ,UAAYA,EACjBR,KAAKG,MAAQA,EACbH,KAAKS,gBAAkBA,EAU3B,SAASQ,EAAkBC,GACvB,MAAqB,iBAAPA,GAAmBC,MAAMC,QAAQF,KAPnD,SAAyBA,GACrB,IAAIG,EACJ,IAAKA,KAAQH,EACT,OAAO,EACX,OAAO,EAGiDI,CAAgBJ,GAE5E,OAXA1B,EAAY+B,UAAUpC,QAAUA,EAChCK,EAAY+B,UAAUC,KAAO,cAUzBP,EAAkB/B,EAAOD,SAClBC,EAAOD,QACTgC,EAAkBhC,GAChBA,OADN","file":"../../vnode/vnode.js","sourcesContent":["define([\n    './version',\n    './is-vnode',\n    './is-widget',\n    './is-thunk',\n    './is-vhook'\n], function (__module__0, __module__1, __module__2, __module__3, __module__4) {\n    'use strict';\n    var exports = {};\n    var module = { exports: {} };\n    var version = __module__0;\n    var isVNode = __module__1;\n    var isWidget = __module__2;\n    var isThunk = __module__3;\n    var isVHook = __module__4;\n    module.exports = VirtualNode;\n    var noProperties = {};\n    var noChildren = [];\n    function VirtualNode(tagName, properties, children, key, namespace) {\n        this.tagName = tagName;\n        this.properties = properties || noProperties;\n        this.children = children || noChildren;\n        this.key = key != null ? String(key) : undefined;\n        this.namespace = typeof namespace === 'string' ? namespace : null;\n        var count = children && children.length || 0;\n        var descendants = 0;\n        var hasWidgets = false;\n        var hasThunks = false;\n        var descendantHooks = false;\n        var hooks;\n        for (var propName in properties) {\n            if (properties.hasOwnProperty(propName)) {\n                var property = properties[propName];\n                if (isVHook(property) && property.unhook) {\n                    if (!hooks) {\n                        hooks = {};\n                    }\n                    hooks[propName] = property;\n                }\n            }\n        }\n        for (var i = 0; i < count; i++) {\n            var child = children[i];\n            if (isVNode(child)) {\n                descendants += child.count || 0;\n                if (!hasWidgets && child.hasWidgets) {\n                    hasWidgets = true;\n                }\n                if (!hasThunks && child.hasThunks) {\n                    hasThunks = true;\n                }\n                if (!descendantHooks && (child.hooks || child.descendantHooks)) {\n                    descendantHooks = true;\n                }\n            } else if (!hasWidgets && isWidget(child)) {\n                if (typeof child.destroy === 'function') {\n                    hasWidgets = true;\n                }\n            } else if (!hasThunks && isThunk(child)) {\n                hasThunks = true;\n            }\n        }\n        this.count = count + descendants;\n        this.hasWidgets = hasWidgets;\n        this.hasThunks = hasThunks;\n        this.hooks = hooks;\n        this.descendantHooks = descendantHooks;\n    }\n    VirtualNode.prototype.version = version;\n    VirtualNode.prototype.type = 'VirtualNode';\n    function __isEmptyObject(obj) {\n        var attr;\n        for (attr in obj)\n            return !1;\n        return !0;\n    }\n    function __isValidToReturn(obj) {\n        return typeof obj != 'object' || Array.isArray(obj) || !__isEmptyObject(obj);\n    }\n    if (__isValidToReturn(module.exports))\n        return module.exports;\n    else if (__isValidToReturn(exports))\n        return exports;\n});"]}